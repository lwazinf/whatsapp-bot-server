generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") // This will be your Supabase Connection String
}

model Merchant {
  wa_id         String   @id
  handle        String   @unique
  trading_name  String
  logo_url      String?
  lat_default   Decimal
  long_default  Decimal
  lat_temp      Decimal?
  long_temp     Decimal?
  is_verified   Boolean  @default(false)
  state         String   @default("AWAITING_NAME")
  created_at    DateTime @default(now())

  @@map("merchants") // Maps the model to your existing SQL table name
}

model UserSession {
  wa_id          String   @id
  mode           String   @default("CUSTOMER")
  current_cart   Json     @default("[]")
  last_active    DateTime @default(now())

  @@map("user_sessions")
}